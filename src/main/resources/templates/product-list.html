<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <!--    <link rel="stylesheet" href="home.css"/>-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!--  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>-->

<!--  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>-->
  <script src="https://code.jquery.com/jquery-3.6.0.js"
          integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
          crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
          integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
          crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
          integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
          crossorigin="anonymous"></script>
    <title>Product List</title>
  <script>
    // $(document).ready(function() {
    //   loaduser();
    // });
    // // When the user scrolls the page, execute myFunction
    // window.onscroll = function() {myFunction()};
    //
    // // Get the header
    // var header = document.getElementById("myHeader");
    //
    // // Get the offset position of the navbar
    // var sticky = header.offsetTop;
    //
    // // Add the sticky class to the header when you reach its scroll position. Remove "sticky" when you leave the scroll position
    // function myFunction() {
    //   if (window.pageYOffset > sticky) {
    //     header.classList.add("sticky");
    //   } else {
    //     header.classList.remove("sticky");
    //   }
    // }

    function loaduser(){
      $.get("http://localhost:8080/username",function (data){
        const object = JSON.parse(data);
        $(".username").html(object.username);
        $(".username").html(object.name);
        getUserId();
        if(object.authenticated !== false){
          $("#log-field").html("<a class=\"nav-link\" onclick='logout()' href=\"home\">Logout</a>");
        }
        else{
          $("#log-field").html("<a class=\"nav-link\" href=\"login\">Login</a>");
        }

      })
    }

    function getUserId(){
      $.get("http://localhost:8080/test",function (data) {
        alert(data)
      })
    }

    function logout(){
      $.post("http://localhost:8080/logout");
    }

  </script>
  <script>
    $(function(){
      $("#header").load("header.html");
    });

  </script>
  <style>
    html,body {
      height: 100%;
      display: block;
      margin: 0;
      padding: 0;
    }
    /* The sticky class is added to the header with JS when it reaches its scroll position */
    .sticky {
      position: fixed;
      top: 0;
      width: 100%
    }
    .content {
      padding: 16px;
    }
    /* Add some top padding to the page content to prevent sudden quick movement (as the header gets a new position at the top of the page (position:fixed and top:0) */
    .sticky + .content {
      padding-top: 102px;
    }
    #myHeader{
      z-index: 100;
    }
    .carousel .carousel-item {
      height: 300px;
    }
    .carousel-item img {
      position: absolute;
      top: 0;
      left: 0;
      min-height: 300px;
    }
    .dropdown{
      float:right;
      padding-right: 30px;
    }
    .btn{
      border:0px;
      margin:10px 0px;
      box-shadow:none !important;
    }
    .dropdown .dropdown-menu{
      padding:20px;
      top:30px !important;
      width:350px !important;
      left:-110px !important;
      box-shadow:0px 5px 30px black;
    }
    .total-header-section{
      border-bottom:1px solid #d2d2d2;
    }
    .total-section p{
      margin-bottom:20px;
    }
    .cart-detail{
      padding:15px 0px;
    }
    .cart-detail-img img{
      width:100%;
      height:100%;
      padding-left:15px;
    }
    .cart-detail-product p{
      margin:0px;
      color:#000;
      font-weight:500;
    }
    .cart-detail .price{
      font-size:12px;
      margin-right:10px;
      font-weight:500;
    }
    .cart-detail .count{
      color:#C2C2DC;
    }
    .checkout{
      border-top:1px solid #d2d2d2;
      padding-top: 15px;
    }
    .checkout .btn-primary{
      border-radius:50px;
      height:50px;
    }
    .dropdown-menu:before{
      content: " ";
      position:absolute;
      top:-20px;
      right:50px;
      border:10px solid transparent;
      border-bottom-color:#fff;
    }
    @media (min-width: 768px){
      #user{
        padding-left: 50px;
      }
    }
    @media (max-width: 768px) {
      #user{
        padding-left: 0px;
      }
    }
    #user a{
      text-decoration: none;
      color: rgba(255,255,255,.5);
    }
    #user a:hover{
      color: #f8f9fa;
      text-decoration: none;
    }
  </style>
</head>
<body>
<nav id="header"></nav>
</body>

</html>